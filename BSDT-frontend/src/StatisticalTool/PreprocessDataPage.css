/* ---------- Preprocess Page Scoped Styles ---------- */
.preprocess-page {
  font-family: 'Inter', 'Segoe UI', sans-serif;
  color: #333;
  background: #f0faf0;
  margin-top: 80px;
}

/* ---------- Topbar ---------- */
.preprocess-page .topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  padding: 14px 20px;
  border-bottom: 1px solid #e0e0e0;
  background:#63d49810;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  border-radius: 0 0 12px 12px;
}
.preprocess-page .title-left { display: flex; flex-direction: column; }
.preprocess-page .title-left h1 { margin: 10px 0; font-size: 1.875rem; font-weight: 700; color: #222; }
.preprocess-page .small-sub { font-size: 12px; color: #777; margin-top: 2px; }

.preprocess-page .topbar-right {
  display:flex; 
  align-items:center; 
  gap:12px;
}
.preprocess-page .select-wrap {
  display:flex; 
  align-items:center; 
  gap:8px; 
  background:#fff; 
  padding:6px 10px; 
  border-radius:8px; 
  border:1px solid #dcdcdc;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}
.preprocess-page .select-wrap:hover { border-color:#2f7d58; box-shadow:0 2px 8px rgba(13,110,253,0.2); }
.preprocess-page .select-input { padding:6px 10px; border:none; outline:none; background:transparent; font-size:14px; }

/* ---------- Icon Buttons ---------- */
.preprocess-page .icon-btn {
  background: #f5f5f5;
  border:0; 
  cursor:pointer; 
  padding:6px; 
  border-radius:8px;
  transition: all 0.2s ease;
}
.preprocess-page .icon-btn:hover { 
  background:#25ba95; 
  stroke:#fff;
  transform: scale(1.1);
}
.preprocess-page .icon { fill:none; stroke:#444; stroke-width:1.5; }

/* ---------- Popup ---------- */
.preprocess-page .popup-overlay {
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.5); 
  display:flex; 
  justify-content:center; 
  align-items:center; 
  z-index:12000;
  backdrop-filter: blur(3px);
}
.preprocess-page .popup-content {
  background:white; 
  width:360px; 
  border-radius:14px; 
  padding:24px; 
  position:relative; 
  box-shadow:0 10px 30px rgba(0,0,0,0.15); 
  animation: fadeInScale .25s ease forwards;
}
@keyframes
 fadeInScale { from {opacity:0; transform:scale(0.9);} to {opacity:1; transform:scale(1);} }
.preprocess-page .popup-title { margin:0 0 12px 0; font-size:18px; font-weight:600; color:#222; }
.preprocess-page .popup-buttons { display:flex; flex-direction:column; gap:12px; margin-top:16px; }
.preprocess-page .popup-btn {
  background: linear-gradient(120deg,#198754,#45c068);
  color:white; 
  border:0; 
  padding:10px 14px; 
  border-radius:10px; 
  cursor:pointer;
  font-weight:600;
  transition: all 0.2s ease;
}
.preprocess-page .popup-btn:hover { transform: translateY(-2px); box-shadow:0 4px 14px rgba(25,135,84,0.4); }
.preprocess-page .popup-close { position:absolute; right:14px; top:10px; border:0; background:none; font-size:18px; cursor:pointer; color:#999; transition: color 0.2s; }
.preprocess-page .popup-close:hover { color:#dc3545; }

/* ---------- Right Sliding Panel ---------- */
.preprocess-page .right-panel {
  position: fixed;
  top: 0;
  right: 0;
  height: 80vh;
  width: 380px;
  background: #fff;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  box-shadow: -8px 0 24px rgba(0,0,0,0.12);
  animation: panelIn .28s ease;
  overflow: hidden;
  border-left:1px solid #e0e0e0;
  border-radius: 12px 0 0 12px;
}
 @keyframes
  panelIn { from { transform: translateX(18px); opacity:0 } 
  to { transform: translateX(0); opacity:1 } }

/* Header */
.preprocess-page .right-panel-header {
  display:flex; 
  justify-content:space-between; 
  align-items:center; 
  padding:16px 20px; 
  border-bottom:1px solid #f0f0f0; 
  cursor:grab; 
  user-select:none;
  background: linear-gradient(90deg,#ffffff,#f7f7f9);
  box-shadow: inset 0 -1px 0 rgba(0,0,0,0.03);
}
.preprocess-page .right-title { margin:0; font-size:18px; font-weight:600; color:#111; }

/* Summary Cards */
.preprocess-page .summary-cards { display:flex; gap:12px; margin-top:8px; }
.preprocess-page .summary-card { background: linear-gradient(120deg,#f5f7fb,#e9efff); padding:10px 12px; border-radius:12px; min-width:80px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.06); transition: transform 0.2s ease; }
.preprocess-page .summary-card:hover { transform: translateY(-3px); box-shadow:0 6px 14px rgba(0,0,0,0.12); }
.preprocess-page .sum-label { font-size:12px; color:#666; }
.preprocess-page .sum-value { font-weight:700; font-size:16px; margin-top:4px; color:#0d6efd; }

/* Panel Body */
.preprocess-page .right-panel-body { padding:16px; overflow:auto; flex:1; }
.preprocess-page .panel-intro { margin:0 0 12px 0; color:#555; font-size:14px; }

/* Accordion */
.preprocess-page .panel-accordion { border-radius: 12px; background: #fdfdfd; padding:10px; border:1px solid #e0e0e0; transition: all 0.2s ease; }
.preprocess-page .accordion-summary { font-weight:600; cursor:pointer; padding:10px 8px; list-style:none; transition: background 0.2s; border-radius:8px; }
.preprocess-page .accordion-summary:hover { background:#f0f4ff; }
.preprocess-page .panel-section { padding:12px 8px; border-top:1px dashed #e0e0e0; margin-top:8px; }
.preprocess-page .panel-label { font-weight:600; margin-bottom:6px; display:block; }
.preprocess-page .panel-info { color:#555; font-size:13px; margin:8px 0; }

/* Controls */
.preprocess-page .select-full, .preprocess-page .text-input {
  width:100%; padding:10px 12px; border-radius:8px; border:1px solid #d0d0d0; margin-bottom:12px; font-size:14px; transition: border 0.2s, box-shadow 0.2s;
}
.preprocess-page .select-full:focus, .preprocess-page .text-input:focus { border-color:#0d6efd; box-shadow:0 2px 10px rgba(13,110,253,0.2); outline:none; }
.preprocess-page .inline-row { display:flex; gap:10px; align-items:center; margin-top:10px; }
.preprocess-page .small-number { width:80px; padding:8px; border-radius:8px; border:1px solid #d0d0d0; }

/* Buttons */
.preprocess-page .btn-secondary { background:#0d6efd; color:white; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; transition: all 0.2s ease; }
.preprocess-page .btn-secondary:hover { transform: translateY(-2px); box-shadow:0 4px 12px rgba(13,110,253,0.3); }
.preprocess-page .btn-apply { background: linear-gradient(120deg,#198754,#45c068); color:white; border-radius:10px; font-weight:600; padding:10px 16px; transition: all 0.2s; }
.preprocess-page .btn-apply:hover { transform: translateY(-2px); box-shadow:0 6px 14px rgba(25,135,84,0.4); }
.preprocess-page .btn-cancel { background: linear-gradient(120deg,#dc3545,#e4606d); color:white; border-radius:10px; font-weight:600; padding:10px 16px; transition: all 0.2s; }
.preprocess-page .btn-cancel:hover { transform: translateY(-2px); box-shadow:0 6px 14px rgba(220,53,69,0.4); }

/* Tags */
.preprocess-page .tags-box { min-height:36px; display:flex; gap:8px; flex-wrap:wrap; padding:8px; border-radius:12px; border:1px solid #e0e0e0; background:#fafafa; }
.preprocess-page .tag-chip { background:#e3f2fd; padding:4px 12px; border-radius:16px; display:inline-flex; gap:6px; align-items:center; font-size:13px; font-weight:500; }
.preprocess-page .remove-button { border:0; background:none; cursor:pointer; font-weight:bold; color:#555; }
.preprocess-page .remove-button:hover { color:#dc3545; }

/* Footer */
.preprocess-page .right-panel-footer { padding:16px; border-top:1px solid #f0f0f0; display:flex; justify-content:flex-end; gap:12px; }

/* Responsiveness */
@media (max-width: 900px) {
  .preprocess-page .right-panel { width:320px !important; }
}
